---
import { Image } from "astro:assets"

import { getMediaItem } from "../../../content/get-media-items"

interface Props {
  slug: string
  style?: "base" | "book"
}
const { slug, style = "base" } = Astro.props

const item = await getMediaItem(slug)
---

<div
  class="mx-auto mt-12 flex w-52 shrink-0 flex-col items-center justify-center sm:mt-16 sm:w-80"
>
  <div
    class="relative overflow-hidden shadow-sm"
    class:list={style === "book" ? "rounded-sm" : "rounded-md"}
  >
    <Image
      class="max-h-52 w-auto max-w-52 object-contain sm:max-h-80 sm:max-w-80"
      alt=""
      widths={[208, 320, 640, 900]}
      sizes="(max-width: 640px) 13rem, 20rem"
      src={item.data.image}
      quality="high"
      loading="eager"
    />
    {
      style === "book" && (
        <span class="absolute left-[3px] top-0 h-full w-[4px] bg-gradient-to-r from-gray-500/20 to-transparent" />
      )
    }
  </div>
</div>
