---
import Icon from "../../../components/Icon"
import { getMediaItem } from "../../../content/get-media-items"
import { useTranslate } from "../../../i18n/use-translate"

interface Props {
  slug: string
}

const item = await getMediaItem(Astro.props.slug)

const { content } = item.data
if (!content.length) {
  return
}

const useDirectDownload = content.length === 1
const href = useDirectDownload ? content[0].url : "#downloads"
const label = useDirectDownload ? "ln.details.download" : "ln.details.downloads"

const t = useTranslate(Astro.currentLocale)
---

<a
  download={useDirectDownload}
  href={href}
  class="flex items-center justify-center gap-2 rounded-md p-2 text-gray-700 hover:text-gray-500"
  ><Icon className="mdi--download" />{t(label)}</a
>
