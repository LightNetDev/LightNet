---
import { marked } from "marked"

import { getMediaItem } from "../../../content/get-media-items"
import { resolveLanguage } from "../../../i18n/resolve-language"

interface Props {
  slug: string
}
const item = await getMediaItem(Astro.props.slug)

const { description, language } = item.data

const formattedDescription = description && (await marked.parse(description))

const { direction, code: lang } = resolveLanguage(language)
---

{
  formattedDescription && (
    <div
      dir={direction}
      class="prose prose-gray mx-auto mt-10 max-w-screen-md px-4 sm:mt-16 md:px-8"
      set:html={formattedDescription}
      lang={lang}
    />
  )
}
