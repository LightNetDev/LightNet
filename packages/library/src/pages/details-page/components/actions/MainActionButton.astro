---
import Icon from "../../../../components/Icon"
import { getMediaItem } from "../../../../content/get-media-items"
import { useTranslate } from "../../../../i18n/use-translate"
import { createContentMetadata } from "../../utils/create-content-metadata"

interface Props {
  slug: string
  openActionLabel: string
}
const { slug, openActionLabel } = Astro.props
const item = await getMediaItem(slug)
const content = createContentMetadata(item.data.content[0])

const t = useTranslate(Astro.currentLocale)
---

<a
  class="mt-10 flex min-w-52 items-center justify-center gap-2 rounded-2xl bg-gray-800 px-6 py-3 font-bold uppercase text-gray-200 shadow-sm hover:bg-gray-950 hover:text-gray-300"
  href={content.url}
  target={content.target}
  hreflang={item.data.language}
>
  {content.canBeOpened ? t(openActionLabel) : t("ln.details.download")}
  {
    content.isExternal && (
      <Icon
        ariaLabel={t("ln.common.a11y.external-link")}
        className={`mdi--external-link shrink-0`}
      />
    )
  }
</a>
