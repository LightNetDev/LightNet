---
import { resolveCategoryLabel } from "../../../content/resolve-category-label"
import { useTranslate } from "../../../i18n/use-translate"
import { searchPagePath } from "../../../utils/paths"
import Label from "./Label.astro"

interface Props {
  categories?: string[]
}

const { categories } = Astro.props

const t = await useTranslate(Astro.currentLocale)
---

{
  !!categories?.length && (
    <>
      <Label>{t("ln.common.categories")}</Label>
      <ul class="flex flex-wrap gap-2">
        {categories.map(async (category) => (
          <li class="flex rounded-lg bg-gray-200 px-2 py-1 text-sm text-gray-600 hover:bg-gray-300">
            <a href={searchPagePath(Astro.currentLocale, { category })}>
              {resolveCategoryLabel(t, category)}
            </a>
          </li>
        ))}
      </ul>
    </>
  )
}
