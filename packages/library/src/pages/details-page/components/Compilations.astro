---
import { getMediaItem } from "../../../content/get-media-items"
import Compilation from "./Compilation.astro"

interface Props {
  mediaItemId: string
}

const { mediaItemId } = Astro.props
const item = await getMediaItem(mediaItemId)

const compilations = item.data.compilations?.map(
  ({ compilation }) => compilation.id,
)
---

{
  compilations?.map((id) => (
    <Compilation compilationId={id} excludeItem={mediaItemId} />
  ))
}
